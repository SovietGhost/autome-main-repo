// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Auction {
    id Int @id @default(autoincrement())

    name                          String   @unique
    model                         String
    brand                         String
    category                      String
    car_year                      Int
    engine_vol                    Float
    fuel_type                     String
    location                      String
    engine                        String
    segment                       String
    leading                       String
    trailing                      String
    brake_system                  String
    color                         String
    km                            BigInt
    vin                           String
    insurance_paper_url           String
    techinal_inspection_paper_url String
    start_price                   Float
    description                   String
    image_urls                    String[]

    start_date DateTime
    end_date   DateTime

    owner_id String
    bids     Bid[]

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt
    enabled    Boolean  @default(false)
}

model Bid {
    id Int @id @default(autoincrement())

    amount Float

    user_id    String
    auction_id Int
    auction    Auction @relation(fields: [auction_id], references: [id])

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt
    enabled    Boolean  @default(true)
}
